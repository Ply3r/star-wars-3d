(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(17),i=a.n(r),o=a(5),c=a(18),s=a(10),l=a(11),u={count:60,next:"https://swapi-trybe.herokuapp.com/api/planets/?page=2",previous:null,results:[{name:"Tatooine",rotation_period:"23",orbital_period:"304",diameter:"10465",climate:"arid",gravity:"1 standard",terrain:"desert",surface_water:"1",population:"200000"},{name:"Alderaan",rotation_period:"24",orbital_period:"364",diameter:"12500",climate:"temperate",gravity:"1 standard",terrain:"grasslands, mountains",surface_water:"40",population:"2000000000"},{name:"Yavin IV",rotation_period:"24",orbital_period:"4818",diameter:"10200",climate:"temperate, tropical",gravity:"1 standard",terrain:"jungle, rainforests",surface_water:"8",population:"1000"},{name:"Hoth",rotation_period:"23",orbital_period:"549",diameter:"7200",climate:"frozen",gravity:"1.1 standard",terrain:"tundra, ice caves, mountain ranges",surface_water:"100",population:"unknown"},{name:"Dagobah",rotation_period:"23",orbital_period:"341",diameter:"8900",climate:"murky",gravity:"N/A",terrain:"swamp, jungles",surface_water:"8",population:"unknown"},{name:"Bespin",rotation_period:"12",orbital_period:"5110",diameter:"118000",climate:"temperate",gravity:"1.5 (surface), 1 standard (Cloud City)",terrain:"gas giant",surface_water:"0",population:"6000000"},{name:"Endor",rotation_period:"18",orbital_period:"402",diameter:"4900",climate:"temperate",gravity:"0.85 standard",terrain:"forests, mountains, lakes",surface_water:"8",population:"30000000"},{name:"Naboo",rotation_period:"26",orbital_period:"312",diameter:"12120",climate:"temperate",gravity:"1 standard",terrain:"grassy hills, swamps, forests, mountains",surface_water:"12",population:"4500000000"},{name:"Coruscant",rotation_period:"24",orbital_period:"368",diameter:"12240",climate:"temperate",gravity:"1 standard",terrain:"cityscape, mountains",surface_water:"unknown",population:"1000000000000"},{name:"Kamino",rotation_period:"27",orbital_period:"463",diameter:"19720",climate:"temperate",gravity:"1 standard",terrain:"ocean",surface_water:"100",population:"1000000000"}]},d=a(4),j=Object(n.createContext)(),p={planets:[],filters:{filterByName:{name:""},filterByNumericValues:[],order:{column:"name",sort:"ASC"}}},m=function(e){var t=e.children,a=Object(n.useState)(p),r=Object(l.a)(a,2),i=r[0],o=r[1],c=Object(n.useState)([]),m=Object(l.a)(c,2),b=m[0],f=m[1],h=Object(n.useState)(0),v=Object(l.a)(h,2),O=v[0],g=v[1];Object(n.useEffect)((function(){var e=u.results,t=Object(s.a)(Object(s.a)({},i),{},{planets:e});o(t),f(e)}),[]);var x=i.filters,w={data:b,planets:i.planets,actualPosition:O,header:i,filters:x,setActualPosition:g,setFilter:function(e){var t=Object(s.a)(Object(s.a)({},i),{},{filters:e});o(t)},setData:f};return Object(d.jsx)(j.Provider,{value:w,children:t})},b={Alderaan:a.p+"static/media/Alderaan.646bb435.jpg",Bespin:a.p+"static/media/Bespin.3b074d8e.jpg",Coruscant:a.p+"static/media/Curuscant.b5b0e32e.jpg",Dagobah:a.p+"static/media/Dagobah.648cde9c.jpg",Endor:a.p+"static/media/Endor.2eaef05f.jpg",Hoth:a.p+"static/media/Hoth.6a1c6cd2.jpg",Kamino:a.p+"static/media/Kamino.f3a0e6f4.jpg",Naboo:a.p+"static/media/Naboo.01b4d09c.jpg",Tatooine:a.p+"static/media/tatooine.a0799d62.jpg","Yavin IV":a.p+"static/media/Yavin_IV.e990f2b9.jpg"},f=function(e,t){var a=Math.floor(Number(e)/1e3),n=(new o.n).load(b[t]),r=new o.k(a,60,30),i=new o.f({map:n});return new o.d(r,i)},h=function(){var e=Object(n.useContext)(j),t=e.data,a=e.filters.order,r=e.actualPosition,i=a.column,s=a.sort,l=t;return l=l.sort((function(e,t){var a=e[i],n=t[i],r=Number(a)>Number(n)?-1:1;return"ASC"===s&&(r=Number(a)>Number(n)?1:-1),"name"===i&&(r=n>a?1:-1,"ASC"===s&&(r=a>n?1:-1)),r})),Object(n.useEffect)((function(){var e=new o.j,t=new o.g(70,window.innerWidth/window.innerHeight,.1,1e3),a=new o.q({canvas:document.getElementById("canvas")});document.body.appendChild(a.domElement),t.position.z=200;var n=new c.a(t,a.domElement);a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight);var i=[];l.forEach((function(e){var t=e.diameter,a=e.rotation_period,n=e.name,r=f(t,n);i.push({planet:r,rotation_period:a})})),i.length&&e.add(i[r].planet);var s=new o.a(16777215,.1),u=new o.h(16777215,1,0);u.position.z=500,e.add(u),e.add(s);!function(){for(var n=0;n<150;n+=1){var r=new o.k(1,60,30),i=new o.e({color:16777215}),c=new o.d(r,i),s=Math.floor(2e3*Math.random())-1500,l=Math.floor(2e3*Math.random())-1500,u=Math.floor(2e3*Math.random())-1500;c.position.x=s,c.position.y=l,c.position.z=u,e.add(c)}a.render(e,t)}(),window.addEventListener("resize",(function(){a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix()}));!function o(){if(requestAnimationFrame(o),i.length){var c=i[r],s=c.planet,l=c.rotation_period,u=Number(l)/1e3;s.rotation.y+=u}n.update(),a.render(e,t)}()}),[t,a,r]),Object(d.jsx)("canvas",{id:"canvas"})},v=a(19),O=function(){var e=Object(n.useContext)(j),t=e.filters,a=e.setActualPosition,r=e.setFilter,i=e.setData,o=e.planets,c=Object(n.useState)(""),u=Object(l.a)(c,2),p=u[0],m=u[1],b=Object(n.useState)("rotation_period"),f=Object(l.a)(b,2),h=f[0],O=f[1],g=Object(n.useState)("maior que"),x=Object(l.a)(g,2),w=x[0],_=x[1],C=Object(n.useState)(""),y=Object(l.a)(C,2),S=y[0],N=y[1],E=Object(n.useState)("name"),k=Object(l.a)(E,2),A=k[0],P=k[1],B=Object(n.useState)("ASC"),D=Object(l.a)(B,2),F=D[0],q=D[1],M=t.filterByNumericValues,V=function(){var e=M.map((function(e){return e.column})),t=["rotation_period","orbital_period","diameter","gravity","surface_water","population"];return e.length&&(t=t.filter((function(t){return!e.includes(t)}))),t=t.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))},z=M.map((function(e){var a=e.column,n=e.comparison,i=e.value;return Object(d.jsxs)("div",{className:"curr-filter",children:[Object(d.jsx)("p",{children:"".concat(a," ").concat(n," ").concat(i)}),Object(d.jsx)("button",{type:"button","data-testid":"filter",onClick:function(){return function(e){var a=M.filter((function(t){return t.column!==e})),n=Object(s.a)(Object(s.a)({},t),{},{filterByNumericValues:a});r(n)}(a)},children:"X"})]},a)}));return Object(n.useEffect)((function(){!function(e){var a=Object(s.a)(Object(s.a)({},t),{},{filterByName:{name:e}});r(a)}(p),function(){var e=o;M.length&&M.forEach((function(t){var a=t.column,n=t.comparison,r=t.value;e=e.filter((function(e){switch(n){case"maior que":return e[a]>r;case"menor que":return e[a]<r;case"igual a":return e[a]===r;default:return!1}}))})),p&&(e=e.filter((function(e){var t=e.name;return new RegExp(p,"i").test(t)}))),a(0),i(e)}()}),[p,M]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"filters",children:[Object(d.jsx)("h1",{children:"Filtros"}),Object(d.jsx)("input",{placeholder:"Filtrar por nome...","data-testid":"name-filter",value:p,onChange:function(e){var t=e.target.value;return m(t)}}),Object(d.jsx)("h2",{children:"Coluna:"}),Object(d.jsx)("select",{"data-testid":"comparison-filter",value:h,onChange:function(e){var t=e.target.value;return O(t)},children:V()}),Object(d.jsx)("h2",{children:"Compara\xe7\xe3o:"}),Object(d.jsxs)("select",{"data-testid":"column-filter",value:w,onChange:function(e){var t=e.target.value;return _(t)},children:[Object(d.jsx)("option",{value:"maior que",children:"maior que"}),Object(d.jsx)("option",{value:"menor que",children:"menor que"}),Object(d.jsx)("option",{value:"igual a",children:"igual a"})]}),Object(d.jsx)("h2",{children:"Valor:"}),Object(d.jsx)("input",{type:"number",value:S,onChange:function(e){var t=e.target.value;return N(t)},"data-testid":"value-filter"}),Object(d.jsx)("button",{"data-testid":"button-filter",disabled:!S,type:"button",onClick:function(){var e=Object(s.a)(Object(s.a)({},t),{},{filterByNumericValues:[].concat(Object(v.a)(M),[{column:h,comparison:w,value:S}])});r(e)},children:"Filtrar"})]}),Object(d.jsxs)("div",{className:"ordernate",children:[Object(d.jsx)("h1",{children:"Order"}),Object(d.jsxs)("select",{"data-testid":"column-sort",value:A,onChange:function(e){var t=e.target.value;return P(t)},children:[Object(d.jsx)("option",{value:"name",children:"name"}),V()]}),Object(d.jsxs)("div",{className:"flex",children:[Object(d.jsxs)("label",{htmlFor:"ASC",children:["ASC",Object(d.jsx)("input",{onChange:function(){return q("ASC")},checked:"ASC"===F,type:"radio",id:"ASC"})]}),Object(d.jsxs)("label",{htmlFor:"DESC",children:["DESC",Object(d.jsx)("input",{onChange:function(){return q("DESC")},checked:"DESC"===F,type:"radio",id:"DESC"})]})]}),Object(d.jsx)("button",{onClick:function(){var e=Object(s.a)(Object(s.a)({},t),{},{order:{column:A,sort:F}});r(e)},type:"button",children:"Ordenar"})]}),Object(d.jsx)("div",{className:"filters-available",children:!!M.length&&z})]})},g=a(16),x=function(){var e=Object(n.useContext)(j),t=e.data,a=e.actualPosition,r=e.setActualPosition;return Object(d.jsxs)(d.Fragment,{children:[!!t.length&&function(){var e=t[a].name;return Object(d.jsxs)("div",{className:"change_position",children:[Object(d.jsx)("button",{onClick:function(){var e=a-1;e<0&&(e=t.length-1),r(e)},children:Object(d.jsx)(g.a,{})}),Object(d.jsx)("h1",{children:e}),Object(d.jsx)("button",{onClick:function(){var e=a+1;e>t.length-1&&(e=0),r(e)},children:Object(d.jsx)(g.b,{})})]})}(),!!t.length&&function(){var e=t[a],n=Object.entries(e).map((function(e){var t=e[0].split("_").join(" ");return Object(d.jsxs)("h1",{children:[t,Object(d.jsx)("span",{children:": ".concat(e[1])})]})}));return Object(d.jsx)("div",{className:"information",children:n})}()]})};a(26);var w=function(){return Object(d.jsxs)(m,{children:[Object(d.jsx)(O,{}),Object(d.jsx)(h,{}),Object(d.jsx)(x,{})]})};i.a.render(Object(d.jsx)(w,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.ba863111.chunk.js.map